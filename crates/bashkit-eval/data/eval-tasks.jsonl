{"id":"file_ops_project_scaffold","category":"file_operations","description":"Create a Python project directory structure","prompt":"Create a Python project at /home/eval/myproject with the following structure: src/ directory with __init__.py, tests/ directory with __init__.py, docs/ directory, and a README.md at the project root with the text '# My Project'.","files":{},"expectations":[{"check":"dir_exists:/home/eval/myproject/src"},{"check":"dir_exists:/home/eval/myproject/tests"},{"check":"dir_exists:/home/eval/myproject/docs"},{"check":"file_exists:/home/eval/myproject/src/__init__.py"},{"check":"file_exists:/home/eval/myproject/tests/__init__.py"},{"check":"file_contains:/home/eval/myproject/README.md:# My Project"},{"check":"exit_code:0"}]}
{"id":"file_ops_backup_rename","category":"file_operations","description":"Backup a config file then modify the original","prompt":"Make a backup of /data/config.yaml at /data/config.yaml.bak, then append the line 'updated: true' to the original /data/config.yaml file.","files":{"/data/config.yaml":"version: 1\nmode: production\nretries: 3\n"},"expectations":[{"check":"file_exists:/data/config.yaml.bak"},{"check":"file_contains:/data/config.yaml.bak:version: 1"},{"check":"file_contains:/data/config.yaml:updated: true"},{"check":"file_contains:/data/config.yaml:version: 1"},{"check":"exit_code:0"}]}
{"id":"file_ops_find_and_delete","category":"file_operations","description":"Find and delete all .tmp files, report count","prompt":"Find all .tmp files under /workspace and delete them. Print the number of .tmp files deleted.","files":{"/workspace/a.tmp":"temp1","/workspace/b.txt":"keep me","/workspace/sub/c.tmp":"temp2","/workspace/sub/deep/d.tmp":"temp3","/workspace/sub/deep/e.log":"keep me too"},"expectations":[{"check":"stdout_contains:3"},{"check":"file_exists:/workspace/b.txt"},{"check":"file_exists:/workspace/sub/deep/e.log"},{"check":"exit_code:0"}]}
{"id":"text_grep_extract","category":"text_processing","description":"Extract ERROR lines from log and count them","prompt":"From the file /var/log/app.log, extract all lines containing the word ERROR and print the total count of ERROR lines.","files":{"/var/log/app.log":"2024-01-01 08:00:01 INFO Application started\n2024-01-01 08:05:12 ERROR Connection refused to database\n2024-01-01 08:05:15 WARN Retrying connection\n2024-01-01 08:05:20 ERROR Timeout waiting for response\n2024-01-01 09:00:00 INFO Scheduled job completed\n2024-01-01 09:15:33 ERROR Disk space critical\n2024-01-01 10:00:00 INFO Backup completed\n"},"expectations":[{"check":"stdout_contains:3"},{"check":"exit_code:0"}]}
{"id":"text_sed_config","category":"text_processing","description":"Replace hostname in config file using sed","prompt":"In the file /etc/app.conf, replace 'localhost' with 'db.prod.internal' using sed. Write the result back to the same file and verify the change.","files":{"/etc/app.conf":"db_host=localhost\ndb_port=5432\ndb_name=myapp\ncache_host=localhost\nlog_level=info\n"},"expectations":[{"check":"file_contains:/etc/app.conf:db_host=db.prod.internal"},{"check":"file_contains:/etc/app.conf:cache_host=db.prod.internal"},{"check":"file_contains:/etc/app.conf:db_port=5432"},{"check":"exit_code:0"}]}
{"id":"text_awk_report","category":"text_processing","description":"Compute total revenue from CSV using awk","prompt":"Read /data/sales.csv (columns: product,price,quantity). Use awk to compute total revenue (sum of price*quantity for each row, skip the header). Print only the final total number.","files":{"/data/sales.csv":"product,price,quantity\nwidget,10,5\ngadget,25,3\ndoohickey,7,12\nsprocket,15,8\n"},"expectations":[{"check":"stdout_contains:329"},{"check":"exit_code:0"}]}
{"id":"pipe_word_frequency","category":"pipelines","description":"Count word frequency and show top 3 words","prompt":"Read /data/poem.txt and find the 3 most frequently used words. Print each word with its count, one per line, sorted by frequency descending.","files":{"/data/poem.txt":"the cat sat on the mat\nthe cat in the hat\nthe dog on the log\nthe frog on the bog\n"},"expectations":[{"check":"stdout_contains:the"},{"check":"exit_code:0"}]}
{"id":"pipe_log_pipeline","category":"pipelines","description":"Find top requested URLs from access log","prompt":"Parse /var/log/access.log to find the top 3 most requested URL paths. Each line has format 'METHOD /path STATUS'. Print each URL with its count, sorted by count descending.","files":{"/var/log/access.log":"GET /api/users 200\nGET /api/items 200\nGET /api/users 200\nPOST /api/items 201\nGET /api/users 200\nGET /api/health 200\nGET /api/items 200\nGET /api/users 200\nGET /api/health 200\nGET /api/items 200\n"},"expectations":[{"check":"stdout_contains:/api/users"},{"check":"stdout_contains:/api/items"},{"check":"exit_code:0"}]}
{"id":"script_fizzbuzz","category":"scripting","description":"Write and run FizzBuzz for 1-20","prompt":"Write a bash script that prints numbers from 1 to 20. For multiples of 3, print 'Fizz' instead. For multiples of 5, print 'Buzz'. For multiples of both 3 and 5, print 'FizzBuzz'. Execute it.","files":{},"expectations":[{"check":"stdout_contains:FizzBuzz"},{"check":"stdout_contains:Fizz"},{"check":"stdout_contains:Buzz"},{"check":"stdout_contains:1"},{"check":"stdout_contains:14"},{"check":"exit_code:0"}]}
{"id":"script_array_stats","category":"scripting","description":"Compute min, max, sum of a number array","prompt":"Given these numbers: 42 17 93 8 55 71 3 88 29 64. Write a bash script that computes the minimum, maximum, and sum. Print exactly three lines: 'min: N', 'max: N', 'sum: N'.","files":{},"expectations":[{"check":"stdout_contains:min: 3"},{"check":"stdout_contains:max: 93"},{"check":"stdout_contains:sum: 470"},{"check":"exit_code:0"}]}
{"id":"script_function_lib","category":"scripting","description":"Create and use a bash function library","prompt":"Create a file /lib/utils.sh with these bash functions: 'to_upper' that reads stdin and converts to uppercase, 'count_lines' that takes a filename argument and prints the line count, 'file_size' that takes a filename and prints byte count. Then source /lib/utils.sh and demonstrate each function: use to_upper on the string 'hello world', count_lines on /data/sample.txt, and file_size on /data/sample.txt.","files":{"/data/sample.txt":"line one\nline two\nline three\nline four\nline five\n"},"expectations":[{"check":"file_exists:/lib/utils.sh"},{"check":"stdout_contains:HELLO WORLD"},{"check":"stdout_contains:5"},{"check":"exit_code:0"},{"check":"tool_calls_min:2"}]}
{"id":"data_csv_to_json","category":"data_transformation","description":"Convert CSV to JSON array","prompt":"Convert /data/users.csv to a JSON array where each row becomes an object with the column headers as keys. Print the resulting JSON to stdout.","files":{"/data/users.csv":"name,age,city\nalice,30,seattle\nbob,25,portland\ncharlie,35,denver\n"},"expectations":[{"check":"stdout_contains:alice"},{"check":"stdout_contains:seattle"},{"check":"stdout_contains:bob"},{"check":"stdout_regex:\"age\""},{"check":"exit_code:0"}]}
{"id":"data_json_query","category":"data_transformation","description":"Query JSON inventory for low-stock items","prompt":"Read /data/inventory.json and find all items where the quantity field is less than 10. Print only their names, one per line.","files":{"/data/inventory.json":"[{\"name\":\"screws\",\"quantity\":5},{\"name\":\"bolts\",\"quantity\":50},{\"name\":\"washers\",\"quantity\":3},{\"name\":\"nuts\",\"quantity\":100},{\"name\":\"nails\",\"quantity\":8}]"},"expectations":[{"check":"stdout_contains:screws"},{"check":"stdout_contains:washers"},{"check":"stdout_contains:nails"},{"check":"exit_code:0"}]}
{"id":"data_log_summarize","category":"data_transformation","description":"Summarize log entries by level","prompt":"Analyze /var/log/app.log and produce a count per log level (INFO, WARN, ERROR). Print each as 'LEVEL: N' on its own line.","files":{"/var/log/app.log":"INFO: app started\nINFO: connected to db\nWARN: slow query detected\nERROR: connection timeout\nINFO: retry succeeded\nWARN: high memory usage\nERROR: write failed\nINFO: request completed\nERROR: connection timeout\nINFO: shutting down\n"},"expectations":[{"check":"stdout_contains:INFO"},{"check":"stdout_contains:5"},{"check":"stdout_contains:ERROR"},{"check":"stdout_contains:3"},{"check":"stdout_contains:WARN"},{"check":"stdout_contains:2"},{"check":"exit_code:0"}]}
{"id":"error_missing_file","category":"error_recovery","description":"Handle missing file gracefully","prompt":"Read the file /data/input.txt. If it does not exist, create the directory /data if needed, then create the file with the content 'default data', and finally read and print the file contents.","files":{},"expectations":[{"check":"stdout_contains:default data"},{"check":"file_exists:/data/input.txt"},{"check":"file_contains:/data/input.txt:default data"},{"check":"exit_code:0"}]}
{"id":"error_graceful_parse","category":"error_recovery","description":"Detect and fix broken JSON","prompt":"Read /data/broken.json. Attempt to parse it with jq. If it fails (it has a trailing comma), fix the JSON by removing the trailing comma before the closing brace, save the fixed version back, and then parse it successfully. Print the 'name' field from the fixed JSON.","files":{"/data/broken.json":"{\"name\": \"test-app\", \"version\": \"1.0\", \"debug\": true, }"},"expectations":[{"check":"stdout_contains:test-app"},{"check":"exit_code:0"},{"check":"tool_calls_min:2"}]}
{"id":"sysinfo_env_report","category":"system_info","description":"Print system environment report","prompt":"Print a system report with four lines: 'user: <whoami output>', 'host: <hostname output>', 'cwd: <pwd output>', 'shell: bash'. Use the actual commands to get the values.","files":{},"expectations":[{"check":"stdout_contains:user: eval"},{"check":"stdout_contains:host: bashkit-eval"},{"check":"stdout_contains:cwd:"},{"check":"exit_code:0"}]}
{"id":"sysinfo_date_calc","category":"system_info","description":"Print current date and compute a future date","prompt":"Print today's date in YYYY-MM-DD format. Then compute and print what the date was 30 days ago, also in YYYY-MM-DD format.","files":{},"expectations":[{"check":"exit_code:0"},{"check":"tool_calls_min:1"},{"check":"stdout_regex:\\d{4}-\\d{2}-\\d{2}"}]}
{"id":"archive_create_extract","category":"archive_operations","description":"Create tar.gz archive and extract to new location","prompt":"Create a tar.gz archive of the /project directory and save it as /tmp/project.tar.gz. Then create /backup directory and extract the archive there. Verify the files exist in /backup.","files":{"/project/README.md":"# My Project\nThis is a test project.\n","/project/src/main.sh":"#!/bin/bash\necho 'Hello from project'\n"},"expectations":[{"check":"file_exists:/tmp/project.tar.gz"},{"check":"exit_code:0"}]}
{"id":"archive_selective","category":"archive_operations","description":"Create archive then list and selectively extract","prompt":"Create files: /tmp/notes.txt with 'remember this', /tmp/data.csv with 'a,b,c', /tmp/script.sh with '#!/bin/bash'. Create a tar.gz archive /tmp/bundle.tar.gz containing all three files. Then list the archive contents. Finally extract only notes.txt to /output/ directory.","files":{},"expectations":[{"check":"file_exists:/output/notes.txt","weight":2.0},{"check":"file_contains:/output/notes.txt:remember this"},{"check":"exit_code:0"}]}
{"id":"jq_nested_transform","category":"jq_mastery","description":"Extract and deduplicate names from nested JSON","prompt":"Read /data/org.json which has a nested structure of teams with members. Extract all unique member names across all teams, sort them alphabetically, and print one per line.","files":{"/data/org.json":"{\"teams\":[{\"name\":\"backend\",\"members\":[{\"name\":\"alice\"},{\"name\":\"bob\"}]},{\"name\":\"frontend\",\"members\":[{\"name\":\"charlie\"},{\"name\":\"alice\"}]},{\"name\":\"devops\",\"members\":[{\"name\":\"dave\"},{\"name\":\"bob\"}]}]}"},"expectations":[{"check":"stdout_contains:alice"},{"check":"stdout_contains:bob"},{"check":"stdout_contains:charlie"},{"check":"stdout_contains:dave"},{"check":"exit_code:0"}]}
{"id":"jq_api_response","category":"jq_mastery","description":"Parse paginated API response and extract IDs","prompt":"Read /data/response.json which contains a paginated API response. Use jq to: 1) Print the current page number, 2) Print the total count, 3) Print all item IDs one per line.","files":{"/data/response.json":"{\"page\":2,\"per_page\":3,\"total\":15,\"items\":[{\"id\":201,\"name\":\"alpha\",\"status\":\"active\"},{\"id\":202,\"name\":\"beta\",\"status\":\"inactive\"},{\"id\":203,\"name\":\"gamma\",\"status\":\"active\"}]}"},"expectations":[{"check":"stdout_contains:201"},{"check":"stdout_contains:202"},{"check":"stdout_contains:203"},{"check":"stdout_contains:15"},{"check":"exit_code:0"}]}
{"id":"complex_todo_app","category":"complex_tasks","description":"Build and demonstrate a CLI TODO app","prompt":"Build a command-line TODO app. Create /app/todo.sh that supports these subcommands: 'add <task>' appends a task to /app/tasks.txt, 'list' prints all tasks with line numbers, 'done <number>' removes that line from the file. Then demonstrate: add 'Buy groceries', add 'Write tests', add 'Deploy app', list all tasks, mark task 1 as done, list again to show remaining tasks.","files":{},"expectations":[{"check":"file_exists:/app/todo.sh"},{"check":"file_exists:/app/tasks.txt"},{"check":"stdout_contains:Write tests"},{"check":"stdout_contains:Deploy app"},{"check":"tool_calls_min:3"},{"check":"exit_code:0"}]}
{"id":"complex_markdown_toc","category":"complex_tasks","description":"Generate table of contents from markdown headings","prompt":"Read /doc/README.md and generate a table of contents from its headings (lines starting with # or ##). Insert the TOC after the first heading, formatted as a markdown list with '- [Heading Text](#anchor)' where anchor is the heading text lowercased with spaces replaced by hyphens. Write the result back to the file.","files":{"/doc/README.md":"# Project Alpha\n\nIntroduction to the project.\n\n## Installation\n\nRun the installer.\n\n## Usage\n\nHow to use it.\n\n## API Reference\n\nEndpoint documentation.\n\n## Contributing\n\nPR guidelines.\n"},"expectations":[{"check":"file_contains:/doc/README.md:Installation","weight":0.5},{"check":"file_contains:/doc/README.md:Contributing","weight":0.5},{"check":"file_contains:/doc/README.md:installation"},{"check":"file_contains:/doc/README.md:contributing"},{"check":"exit_code:0"}]}
{"id":"complex_diff_report","category":"complex_tasks","description":"Compare two config versions and summarize changes","prompt":"Compare /data/v1.conf and /data/v2.conf. Produce a human-readable summary showing: which keys were added, which were removed, and which had their values changed. Print the summary to stdout.","files":{"/data/v1.conf":"port=8080\nhost=localhost\nlog_level=info\nworkers=4\nmax_connections=100\n","/data/v2.conf":"port=9090\nhost=0.0.0.0\nlog_level=debug\nworkers=4\ntimeout=30\n"},"expectations":[{"check":"stdout_contains:port"},{"check":"stdout_contains:host"},{"check":"stdout_contains:log_level"},{"check":"stdout_contains:timeout"},{"check":"stdout_contains:max_connections"},{"check":"exit_code:0"}]}
